2018-10-30 11:06:41.241 [info] <0.507.0> module:data_server line:24 node 'cellphone@127.0.0.1'
2018-10-30 11:06:41.243 [info] <0.508.0> module:data_server line:54 node 'cellphone@127.0.0.1'
2018-10-30 11:06:41.246 [error] <0.508.0>@gen_server:init_it:366 CRASH REPORT Process data_server with 0 neighbours exited with reason: bad return value: {error,"mnesia dir is not used"} in gen_server:init_it/6 line 366
2018-10-30 11:06:41.246 [error] <0.507.0> Supervisor data_sup had child data_server started with data_server:start_link() at undefined exit with reason bad return value: {error,"mnesia dir is not used"} in context start_error
2018-10-30 11:06:41.247 [error] <0.506.0> Supervisor cellphone_sup had child data_sup started with data_sup:start_link() at undefined exit with reason {shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}} in context start_error
2018-10-30 11:06:41.248 [error] <0.504.0> CRASH REPORT Process <0.504.0> with 0 neighbours exited with reason: {{shutdown,{failed_to_start_child,data_sup,{shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}}}},{cellphone_app,start,[normal,[]]}} in application_master:init/4 line 138
2018-10-30 11:06:41.279 [info] <0.42.0> Application cellphone exited with reason: {{shutdown,{failed_to_start_child,data_sup,{shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}}}},{cellphone_app,start,[normal,[]]}}
2018-10-30 11:06:41.280 [info] <0.42.0> Application cowboy exited with reason: stopped
2018-10-30 11:06:41.280 [info] <0.42.0> Application ranch exited with reason: stopped
2018-10-30 11:06:41.281 [info] <0.42.0> Application cowlib exited with reason: stopped
2018-10-30 11:08:35.843 [info] <0.508.0> module:data_server line:24 node 'cellphone@127.0.0.1'
2018-10-30 11:08:35.845 [info] <0.509.0> module:data_server line:54 node 'cellphone@127.0.0.1'
2018-10-30 11:08:35.846 [error] <0.509.0>@gen_server:init_it:366 CRASH REPORT Process data_server with 0 neighbours exited with reason: bad return value: {error,"mnesia dir is not used"} in gen_server:init_it/6 line 366
2018-10-30 11:08:35.847 [error] <0.508.0> Supervisor data_sup had child data_server started with data_server:start_link() at undefined exit with reason bad return value: {error,"mnesia dir is not used"} in context start_error
2018-10-30 11:08:35.847 [error] <0.507.0> Supervisor cellphone_sup had child data_sup started with data_sup:start_link() at undefined exit with reason {shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}} in context start_error
2018-10-30 11:08:35.850 [error] <0.505.0> CRASH REPORT Process <0.505.0> with 0 neighbours exited with reason: {{shutdown,{failed_to_start_child,data_sup,{shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}}}},{cellphone_app,start,[normal,[]]}} in application_master:init/4 line 138
2018-10-30 11:08:35.874 [info] <0.42.0> Application cellphone exited with reason: {{shutdown,{failed_to_start_child,data_sup,{shutdown,{failed_to_start_child,data_server,{bad_return_value,{error,"mnesia dir is not used"}}}}}},{cellphone_app,start,[normal,[]]}}
2018-10-30 11:08:35.875 [info] <0.42.0> Application cowboy exited with reason: stopped
2018-10-30 11:08:35.876 [info] <0.42.0> Application ranch exited with reason: stopped
2018-10-30 11:08:35.876 [info] <0.42.0> Application cowlib exited with reason: stopped
2018-10-30 11:09:16.524 [info] <0.508.0> module:data_server line:24 node 'cellphone@127.0.0.1'
2018-10-30 11:09:16.526 [info] <0.509.0> module:data_server line:54 node 'cellphone@127.0.0.1'
2018-10-30 15:34:04.055 [info] <0.565.0> module:websocket_handler line:16 start handler 
2018-10-30 15:34:04.101 [info] <0.564.0> module:websocket_handler line:20 get a new gateway
2018-10-30 15:39:58.871 [info] <0.576.0> module:websocket_handler line:16 start handler 
2018-10-30 15:39:58.872 [info] <0.575.0> module:websocket_handler line:20 get a new gateway
2018-10-30 15:40:51.570 [info] <0.579.0> module:websocket_handler line:16 start handler 
2018-10-30 15:40:51.570 [info] <0.578.0> module:websocket_handler line:20 get a new gateway
2018-10-30 15:47:13.094 [info] <0.589.0> module:websocket_handler line:16 start handler 
2018-10-30 15:47:13.094 [info] <0.588.0> module:websocket_handler line:20 get a new gateway
2018-10-30 16:22:18.860 [info] <0.581.0> module:request_handler line:22 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> =>
                                                       <<"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8">>,
                                                   <<"content-length">> =>
                                                       <<"0">>,
                                                   <<"content-type">> =>
                                                       <<"application/x-www-form-urlencoded">>,
                                                   <<"cookie">> =>
                                                       <<"pt2gguin=o0347486423; uin=o0347486423; skey=@YA8LSLshc; superuin=o0347486423; supertoken=143086249; superkey=dF3eD6ybOPg6UCIKCw0IXl2BF4AvnB30FSGDQacZCcc_; pt_recent_uins=6bf613503b361e118ba8bc99f4d2a409d833a0014232af6088bd626b0890d77c73edcf25a3dc7ee40831398e0a7dd9773d217451749f3699; RK=PMq9zWjgGx; ptnick_347486423=74657374; ptcz=c61b2b5fd3478ee4942c1c27baae2f205b55d2c0d7736cdf92dfd12276ba99ea;">>,
                                                   <<"host">> =>
                                                       <<"94.191.14.68">>,
                                                   <<"referer">> =>
                                                       <<"http://94.191.14.68:8089/">>,
                                                   <<"tencent-leakscan">> =>
                                                       <<"TST(Tencent Security Team)">>,
                                                   <<"user-agent">> =>
                                                       <<"Mozilla/5.0 (iPhone; CPU iPhone OS 8_1_3 like Mac OS X AppleWebKit/600.1.4 (KHTML, like Gecko Mobile/12B466 MicroMessenger/6.1.1 NetType/WIFI;Mozilla/5.0 (Linux; Android 4.4.2; SCH-I959 Build/KOT49H AppleWebKit/537.36 (KHTML,like Gecko Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36 V1_AND_SQ_5.4.0_218_YYB_D QQ/5.4.1.2395 NetType/WIFI TST(Tencent_Security_Team)">>},
                                             host => <<"94.191.14.68">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{123,151,144,38},44624},
                                             pid => <0.580.0>,port => 80,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{172,30,0,11},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 16:22:18.860 [error] <0.581.0> CRASH REPORT Process <0.581.0> with 0 neighbours crashed with reason: {badmap,[{<<"content-type">>,<<"text/plain">>}]} in cowboy_req:reply/4 line 764
2018-10-30 16:22:18.880 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.580.0>,1,<0.581.0>,{badmap,[{<<"content-type">>,<<"text/plain">>}]},[{cowboy_req,reply,4,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_req.erl"},{line,764}]},{request_handler,init,2,[{file,"/data/cellphone/_build/default/lib/cellphone/src/net/request_handler.erl"},{line,23}]},{cowboy_handler,execute,2,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/data/cel..."},...]},...]]},...}}
2018-10-30 16:34:44.487 [info] <0.608.0> module:request_handler line:22 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> => <<"*/*">>,
                                                   <<"accept-encoding">> =>
                                                       <<"gzip, deflate">>,
                                                   <<"connection">> =>
                                                       <<"keep-alive">>,
                                                   <<"host">> =>
                                                       <<"94.191.14.68:8089">>,
                                                   <<"user-agent">> =>
                                                       <<"python-requests/2.19.1">>},
                                             host => <<"94.191.14.68">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{183,61,52,240},50618},
                                             pid => <0.588.0>,port => 8089,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{172,30,0,11},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 16:34:44.488 [error] <0.608.0> CRASH REPORT Process <0.608.0> with 0 neighbours crashed with reason: {badmap,[{<<"content-type">>,<<"text/plain">>}]} in cowboy_req:reply/4 line 764
2018-10-30 16:34:44.509 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.588.0>,1,<0.608.0>,{badmap,[{<<"content-type">>,<<"text/plain">>}]},[{cowboy_req,reply,4,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_req.erl"},{line,764}]},{request_handler,init,2,[{file,"/data/cellphone/_build/default/lib/cellphone/src/net/request_handler.erl"},{line,23}]},{cowboy_handler,execute,2,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/data/cel..."},...]},...]]},...}}
2018-10-30 16:48:49.284 [info] <0.595.0> module:request_handler line:22 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> => <<"*/*">>,
                                                   <<"host">> =>
                                                       <<"127.0.0.1:8089">>,
                                                   <<"user-agent">> =>
                                                       <<"curl/7.29.0">>},
                                             host => <<"127.0.0.1">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{127,0,0,1},54940},
                                             pid => <0.594.0>,port => 8089,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{127,0,0,1},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 16:48:49.285 [error] <0.595.0> CRASH REPORT Process <0.595.0> with 0 neighbours crashed with reason: {badmap,[{<<"content-type">>,<<"text/plain">>}]} in cowboy_req:reply/4 line 764
2018-10-30 16:48:49.303 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.594.0>,1,<0.595.0>,{badmap,[{<<"content-type">>,<<"text/plain">>}]},[{cowboy_req,reply,4,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_req.erl"},{line,764}]},{request_handler,init,2,[{file,"/data/cellphone/_build/default/lib/cellphone/src/net/request_handler.erl"},{line,23}]},{cowboy_handler,execute,2,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/data/cel..."},...]},...]]},...}}
2018-10-30 16:49:06.491 [info] <0.599.0> module:request_handler line:22 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> => <<"*/*">>,
                                                   <<"host">> =>
                                                       <<"127.0.0.1:8089">>,
                                                   <<"user-agent">> =>
                                                       <<"curl/7.29.0">>},
                                             host => <<"127.0.0.1">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{127,0,0,1},54954},
                                             pid => <0.598.0>,port => 8089,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{127,0,0,1},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 16:49:06.492 [error] <0.599.0> CRASH REPORT Process <0.599.0> with 0 neighbours crashed with reason: {badmap,[{<<"content-type">>,<<"text/plain">>}]} in cowboy_req:reply/4 line 764
2018-10-30 16:49:06.498 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.598.0>,1,<0.599.0>,{badmap,[{<<"content-type">>,<<"text/plain">>}]},[{cowboy_req,reply,4,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_req.erl"},{line,764}]},{request_handler,init,2,[{file,"/data/cellphone/_build/default/lib/cellphone/src/net/request_handler.erl"},{line,23}]},{cowboy_handler,execute,2,[{file,"/data/cellphone/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/data/cel..."},...]},...]]},...}}
2018-10-30 16:53:57.805 [info] <0.579.0> module:request_handler line:20 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> => <<"*/*">>,
                                                   <<"host">> =>
                                                       <<"127.0.0.1:8089">>,
                                                   <<"user-agent">> =>
                                                       <<"curl/7.29.0">>},
                                             host => <<"127.0.0.1">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{127,0,0,1},55190},
                                             pid => <0.578.0>,port => 8089,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{127,0,0,1},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 17:00:36.026 [info] <0.587.0> module:request_handler line:20 receive Req #{bindings => #{},body_length => 0,
                                             cert => undefined,
                                             has_body => false,
                                             headers =>
                                                 #{<<"accept">> => <<"*/*">>,
                                                   <<"host">> =>
                                                       <<"127.0.0.1:8089">>,
                                                   <<"user-agent">> =>
                                                       <<"curl/7.29.0">>},
                                             host => <<"127.0.0.1">>,
                                             host_info => undefined,
                                             method => <<"GET">>,
                                             path => <<"/">>,
                                             path_info => undefined,
                                             peer => {{127,0,0,1},55510},
                                             pid => <0.586.0>,port => 8089,
                                             qs => <<>>,
                                             ref => cellphone_listener,
                                             scheme => <<"http">>,
                                             sock => {{127,0,0,1},8089},
                                             streamid => 1,
                                             version => 'HTTP/1.1'}
2018-10-30 17:06:43.900 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 17:11:36.643 [info] <0.586.0> module:websocket_handler line:16 start handler 
2018-10-30 17:13:58.605 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 17:14:05.149 [error] <0.579.0>@websocket_handler:init:16 CRASH REPORT Process <0.579.0> with 0 neighbours crashed with reason: bad argument in call to erlang:binary_to_list(#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accep...">> => ...,...},...}) in websocket_handler:init/2 line 16
2018-10-30 17:14:05.181 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.578.0>,1,<0.579.0>,badarg,[{erlang,binary_to_list,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept-encoding">> => <<"gzip, deflate">>,<<"accept-language">> => <<"zh-CN,zh;q=0.9,fr;q=0.8,en;q=0.7">>,<<"cache-control">> => <<"no-cache">>,<<"connection">> => <<"Upgrade">>,<<"cookie">> => <<"io=FgeRjYd7THEQu9rPAAAB">>,<<"host">> => <<"94.191.14.68:8089">>,<<"origin">> => <<"http://coolaf.com">>,<<"p...">> => ...,...},...}],...},...]]},...}}
2018-10-30 17:14:23.237 [error] <0.582.0>@websocket_handler:init:16 CRASH REPORT Process <0.582.0> with 0 neighbours crashed with reason: bad argument in call to erlang:binary_to_list(#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accep...">> => ...,...},...}) in websocket_handler:init/2 line 16
2018-10-30 17:14:23.256 [error] <0.530.0> Lager event handler error_logger_lager_h exited with reason {'EXIT',{{case_clause,[cellphone_listener,<0.581.0>,1,<0.582.0>,badarg,[{erlang,binary_to_list,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept-encoding">> => <<"gzip, deflate">>,<<"accept-language">> => <<"zh-CN,zh;q=0.9,fr;q=0.8,en;q=0.7">>,<<"cache-control">> => <<"no-cache">>,<<"connection">> => <<"Upgrade">>,<<"cookie">> => <<"io=FgeRjYd7THEQu9rPAAAB">>,<<"host">> => <<"94.191.14.68:8089">>,<<"origin">> => <<"http://coolaf.com">>,<<"p...">> => ...,...},...}],...},...]]},...}}
2018-10-30 17:20:20.771 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 17:21:03.403 [info] <0.579.0> module:websocket_handler line:16 uri [[[<<"http">>,58],
                                       <<"//">>,<<"94.191.14.68">>,
                                       [58,<<"8089">>]],
                                      <<"/websocket">>,<<>>,<<>>]
2018-10-30 17:27:23.167 [warning] <0.563.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 17:27:25.485 [info] <0.580.0> module:websocket_handler line:16 Req #{bindings => #{},body_length => 0,
                                       cert => undefined,has_body => false,
                                       headers =>
                                           #{<<"accept-encoding">> =>
                                                 <<"gzip, deflate">>,
                                             <<"accept-language">> =>
                                                 <<"zh-CN,zh;q=0.9,fr;q=0.8,en;q=0.7">>,
                                             <<"cache-control">> =>
                                                 <<"no-cache">>,
                                             <<"connection">> => <<"Upgrade">>,
                                             <<"cookie">> =>
                                                 <<"io=FgeRjYd7THEQu9rPAAAB">>,
                                             <<"host">> =>
                                                 <<"94.191.14.68:8089">>,
                                             <<"origin">> =>
                                                 <<"http://coolaf.com">>,
                                             <<"pragma">> => <<"no-cache">>,
                                             <<"sec-websocket-extensions">> =>
                                                 <<"permessage-deflate; client_max_window_bits">>,
                                             <<"sec-websocket-key">> =>
                                                 <<"2CmIGzqsBCGHJNWQ3sJY5Q==">>,
                                             <<"sec-websocket-version">> =>
                                                 <<"13">>,
                                             <<"upgrade">> => <<"websocket">>,
                                             <<"user-agent">> =>
                                                 <<"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36">>},
                                       host => <<"94.191.14.68">>,
                                       host_info => undefined,
                                       method => <<"GET">>,
                                       path => <<"/websocket">>,
                                       path_info => undefined,
                                       peer => {{218,19,98,77},18624},
                                       pid => <0.579.0>,port => 8089,
                                       qs => <<>>,ref => cellphone_listener,
                                       scheme => <<"http">>,
                                       sock => {{172,30,0,11},8089},
                                       streamid => 1,version => 'HTTP/1.1'}
2018-10-30 17:57:13.675 [info] <0.611.0> module:websocket_handler line:16 Req #{bindings => #{},body_length => 0,
                                       cert => undefined,has_body => false,
                                       headers =>
                                           #{<<"accept-encoding">> =>
                                                 <<"gzip, deflate">>,
                                             <<"accept-language">> =>
                                                 <<"zh-CN,zh;q=0.9,fr;q=0.8,en;q=0.7">>,
                                             <<"cache-control">> =>
                                                 <<"no-cache">>,
                                             <<"connection">> => <<"Upgrade">>,
                                             <<"cookie">> =>
                                                 <<"io=FgeRjYd7THEQu9rPAAAB">>,
                                             <<"host">> =>
                                                 <<"127.0.0.1:8089">>,
                                             <<"origin">> =>
                                                 <<"http://coolaf.com">>,
                                             <<"pragma">> => <<"no-cache">>,
                                             <<"sec-websocket-extensions">> =>
                                                 <<"permessage-deflate; client_max_window_bits">>,
                                             <<"sec-websocket-key">> =>
                                                 <<"dzWAJu+FPAaeGLSIUw6bfw==">>,
                                             <<"sec-websocket-version">> =>
                                                 <<"13">>,
                                             <<"upgrade">> => <<"websocket">>,
                                             <<"user-agent">> =>
                                                 <<"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36">>},
                                       host => <<"127.0.0.1">>,
                                       host_info => undefined,
                                       method => <<"GET">>,
                                       path => <<"/websocket">>,
                                       path_info => undefined,
                                       peer => {{127,0,0,1},44318},
                                       pid => <0.610.0>,port => 8089,
                                       qs => <<>>,ref => cellphone_listener,
                                       scheme => <<"http">>,
                                       sock => {{127,0,0,1},8089},
                                       streamid => 1,version => 'HTTP/1.1'}
2018-10-30 18:00:54.175 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 18:07:51.184 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 18:30:28.921 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 18:31:59.585 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 18:32:05.894 [info] <0.578.0> module:websocket_handler line:21 init websocket
2018-10-30 19:31:55.468 [info] <0.633.0> module:websocket_handler line:21 init websocket
2018-10-30 19:33:57.953 [info] <0.639.0> module:websocket_handler line:21 init websocket
2018-10-30 19:38:35.570 [info] <0.645.0> module:websocket_handler line:21 init websocket
2018-10-30 19:55:12.018 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 20:41:53.434 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 20:42:05.977 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-30 20:44:33.981 [info] <0.582.0> module:websocket_handler line:21 init
2018-10-30 21:24:03.023 [info] <0.618.0> module:websocket_handler line:21 init
2018-10-30 21:24:31.771 [info] <0.620.0> module:websocket_handler line:21 init
2018-10-30 21:26:15.490 [info] <0.623.0> module:websocket_handler line:21 init
2018-10-30 21:29:58.093 [info] <0.629.0> module:websocket_handler line:21 init
2018-10-30 21:31:14.736 [info] <0.631.0> module:websocket_handler line:21 init
2018-10-30 21:34:03.494 [info] <0.636.0> module:websocket_handler line:21 init
2018-10-30 21:41:53.306 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-30 21:42:14.607 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-30 21:42:59.993 [info] <0.581.0> module:websocket_handler line:21 init
2018-10-30 21:43:04.644 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"1231231">>}
2018-10-30 21:43:12.084 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"23412341234">>}
2018-10-30 21:43:14.607 [info] <0.578.0> module:websocket_handler line:54 ping
2018-10-30 21:43:31.775 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"24234234">>}
2018-10-30 21:43:59.994 [info] <0.581.0> module:websocket_handler line:54 ping
2018-10-30 21:44:04.863 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"123123">>}
2018-10-30 21:44:31.090 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"131231">>}
2018-10-30 21:48:44.067 [info] <0.581.0> module:websocket_handler line:41 Data {text,<<"123123">>}
2018-10-30 21:53:11.099 [info] <0.591.0> module:websocket_handler line:21 init
2018-10-30 21:54:11.100 [info] <0.591.0> module:websocket_handler line:54 ping
2018-10-31 10:12:17.746 [warning] <0.563.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 10:12:35.993 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 10:12:54.936 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 10:13:08.595 [info] <0.578.0> module:websocket_handler line:41 Data {text,<<"123">>}
2018-10-31 10:13:54.936 [info] <0.578.0> module:websocket_handler line:54 ping
2018-10-31 10:30:29.675 [info] <0.595.0> module:websocket_handler line:21 init
2018-10-31 10:30:37.783 [info] <0.595.0> module:websocket_handler line:41 Data {text,<<"123">>}
2018-10-31 10:31:29.675 [info] <0.595.0> module:websocket_handler line:54 ping
2018-10-31 10:52:30.130 [info] <0.616.0> module:websocket_handler line:21 init
2018-10-31 10:57:23.918 [info] <0.622.0> module:websocket_handler line:21 init
2018-10-31 10:58:00.054 [info] <0.625.0> module:websocket_handler line:21 init
2018-10-31 11:00:22.033 [info] <0.628.0> module:websocket_handler line:21 init
2018-10-31 11:05:34.623 [info] <0.635.0> module:websocket_handler line:21 init
2018-10-31 11:08:45.278 [info] <0.640.0> module:websocket_handler line:21 init
2018-10-31 11:09:12.894 [info] <0.642.0> module:websocket_handler line:21 init
2018-10-31 11:10:38.393 [info] <0.646.0> module:websocket_handler line:21 init
2018-10-31 11:12:01.383 [info] <0.648.0> module:websocket_handler line:21 init
2018-10-31 11:13:01.383 [info] <0.648.0> module:websocket_handler line:54 ping
2018-10-31 11:13:38.695 [info] <0.652.0> module:websocket_handler line:21 init
2018-10-31 11:13:50.045 [info] <0.652.0> module:websocket_handler line:25 <<10,10,8,112,105,110,103,95,116,111,115,8,
                                   237,187,228,222,5>>
2018-10-31 11:13:50.048 [error] <0.652.0> module:websocket_handler line:37 {'EXIT',
                                  {undef,
                                   [{net_misc,decode,
                                     [<<10,10,8,112,105,110,103,95,116,111,
                                        115,8,237,187,228,222,5>>],
                                     []},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:13:58.677 [info] <0.652.0> module:websocket_handler line:25 <<10,10,8,112,105,110,103,95,116,111,115,8,
                                   246,187,228,222,5>>
2018-10-31 11:13:58.678 [error] <0.652.0> module:websocket_handler line:37 {'EXIT',
                                  {undef,
                                   [{net_misc,decode,
                                     [<<10,10,8,112,105,110,103,95,116,111,
                                        115,8,246,187,228,222,5>>],
                                     []},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:14:38.695 [info] <0.652.0> module:websocket_handler line:54 ping
2018-10-31 11:23:59.781 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:24:13.744 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:24:28.478 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:24:28.481 [error] <0.578.0> module:websocket_handler line:37 {'EXIT',
                                  {undef,
                                   [{net_misc,decode,
                                     [<<11,10,9,108,111,103,105,110,95,116,
                                        111,115,10,4,116,101,115,116,18,3,49,
                                        50,51>>],
                                     []},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:25:13.744 [info] <0.578.0> module:websocket_handler line:54 ping
2018-10-31 11:26:04.211 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:26:11.795 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:26:20.090 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:26:20.094 [error] <0.578.0> module:websocket_handler line:37 {'EXIT',
                                  {undef,
                                   [{erlang,bianary_to_atom,
                                     ["login_tos",utf8],
                                     []},
                                    {net_misc,decode_msg,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                                      {line,23}]},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:28:54.703 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:29:02.818 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:29:09.800 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:29:09.805 [error] <0.578.0> module:websocket_handler line:37 {'EXIT',
                                  {badarg,
                                   [{erlang,binary_to_atom,
                                     ["login_tos",utf8],
                                     []},
                                    {net_misc,decode_msg,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                                      {line,23}]},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:30:02.818 [info] <0.578.0> module:websocket_handler line:54 ping
2018-10-31 11:39:35.882 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:39:37.435 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:39:51.411 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:39:51.417 [error] <0.578.0> module:websocket_handler line:37 {'EXIT',
                                  {undef,
                                   [{erlang,list_to_atom,
                                     ["login_tos",utf8],
                                     []},
                                    {net_misc,decode_msg,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                                      {line,23}]},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,26}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]},
                                    {proc_lib,init_p_do_apply,3,
                                     [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 11:40:16.849 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:40:24.704 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:40:26.964 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:40:26.968 [info] <0.578.0> module:websocket_handler line:28 receive proto {login_tos,"test","123"}
2018-10-31 11:40:26.969 [error] <0.578.0>@net_login:login CRASH REPORT Process <0.578.0> with 0 neighbours crashed with reason: call to undefined function net_login:login({login_tos,"test","123"})
2018-10-31 11:40:26.982 [error] <0.578.0>@net_login:login Ranch listener cellphone_listener terminated with reason: call to undefined function net_login:login({login_tos,"test","123"})
2018-10-31 11:43:26.165 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:43:29.337 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:43:31.744 [info] <0.578.0> module:websocket_handler line:25 <<11,10,9,108,111,103,105,110,95,116,111,115,
                                   10,4,116,101,115,116,18,3,49,50,51>>
2018-10-31 11:43:31.748 [info] <0.578.0> module:websocket_handler line:28 receive proto {login_tos,"test","123"}
2018-10-31 11:44:29.338 [info] <0.578.0> module:websocket_handler line:54 ping
2018-10-31 11:55:00.698 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 11:55:06.976 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 11:55:20.521 [info] <0.578.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 11:55:20.525 [error] <0.578.0> module:websocket_handler line:33 {'EXIT',
                                  {badarg,
                                   [{erlang,integer_to_list,[[]],[]},
                                    {lib_role,register_name,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/role/lib_role.erl"},
                                      {line,54}]},
                                    {lib_role,is_online,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/role/lib_role.erl"},
                                      {line,45}]},
                                    {net_login,login,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                                      {line,48}]},
                                    {net_misc,msg_handle,1,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                                      {line,36}]},
                                    {websocket_handler,websocket_handle,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                      {line,29}]},
                                    {cowboy_websocket,handler_call,6,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                      {line,466}]},
                                    {cowboy_http,loop,2,
                                     [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                      {line,218}]}]}}
2018-10-31 11:56:06.976 [info] <0.578.0> module:websocket_handler line:54  check ping
2018-10-31 13:47:57.621 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 13:48:05.036 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 13:48:23.400 [info] <0.578.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 13:48:23.403 [error] <0.578.0> module:net_misc line:41 {'EXIT',
                         {badarg,
                          [{erlang,integer_to_list,[[]],[]},
                           {lib_role,register_name,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/role/lib_role.erl"},
                             {line,54}]},
                           {lib_role,is_online,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/role/lib_role.erl"},
                             {line,45}]},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,48}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,36}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,29}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]}]}}
2018-10-31 13:49:05.037 [info] <0.578.0> module:websocket_handler line:56  check ping
2018-10-31 14:50:42.966 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 14:50:47.495 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 14:51:03.983 [info] <0.578.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 14:51:03.985 [error] <0.578.0> module:net_misc line:43 {fail,{login_toc,152,undefined}}
2018-10-31 14:51:47.495 [info] <0.578.0> module:websocket_handler line:57  check ping
2018-10-31 14:53:00.439 [info] <0.578.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 14:53:00.439 [error] <0.578.0> module:net_misc line:43 {fail,{login_toc,152,undefined}}
2018-10-31 14:54:48.720 [warning] <0.562.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 14:54:51.552 [info] <0.578.0> module:websocket_handler line:21 init
2018-10-31 14:55:03.523 [info] <0.578.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 14:55:51.552 [info] <0.578.0> module:websocket_handler line:57  check ping
2018-10-31 15:09:08.300 [info] <0.592.0> module:websocket_handler line:21 init
2018-10-31 15:09:22.737 [info] <0.592.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 15:10:08.300 [info] <0.592.0> module:websocket_handler line:57  check ping
2018-10-31 15:15:05.444 [info] <0.599.0> module:websocket_handler line:21 init
2018-10-31 15:15:18.299 [info] <0.599.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 15:16:05.445 [info] <0.599.0> module:websocket_handler line:57  check ping
2018-10-31 15:19:52.432 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 15:20:06.228 [info] <0.605.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 15:20:52.432 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 15:21:21.857 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 15:21:21.857 [error] <0.605.0> module:net_misc line:34 undefined handle proto
2018-10-31 15:51:59.290 [info] <0.635.0> module:websocket_handler line:21 init
2018-10-31 15:52:18.758 [info] <0.635.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 15:52:36.178 [info] <0.635.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 15:52:36.178 [error] <0.635.0> module:net_misc line:34 undefined handle proto
2018-10-31 15:52:49.203 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 15:52:53.409 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 15:53:09.362 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 15:53:09.366 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                         {undef,
                          [{role_server,register_new_role,
                            [10000,"test","123"],
                            []},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,40}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,38}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,28}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]},
                           {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 15:53:53.409 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:24:18.996 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:24:23.497 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:24:30.027 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 16:24:30.031 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                            {{case_clause,{fail,100}},
                             [{net_login,login,2,
                                  [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                                   {line,38}]},
                              {net_misc,msg_handle,1,
                                  [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                                   {line,38}]},
                              {websocket_handler,websocket_handle,2,
                                  [{file,
                                       "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                                   {line,28}]},
                              {cowboy_websocket,handler_call,6,
                                  [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                                   {line,466}]},
                              {cowboy_http,loop,2,
                                  [{file,
                                       "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                                   {line,218}]},
                              {proc_lib,init_p_do_apply,3,
                                  [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 16:25:23.497 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:27:29.217 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:27:32.998 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:27:37.337 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 16:27:37.343 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                         {undef,
                          [{mod_role,register_new_role,
                            [10000,"test","123"],
                            []},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,40}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,38}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,28}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]},
                           {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 16:28:32.998 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:30:30.867 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:30:34.294 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:30:36.668 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 16:30:36.676 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                         {badarg,
                          [{ets,insert,[ets_name_role_id,{"test",10000}],[]},
                           {role_server,add_name_role_id,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/role/role_server.erl"},
                             {line,40}]},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,41}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,38}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,28}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]},
                           {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 16:31:34.295 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:34:02.919 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:34:06.106 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:34:09.932 [info] <0.605.0> module:websocket_handler line:27 receive proto {register_tos,"test","123"}
2018-10-31 16:34:09.935 [error] <0.605.0> module:net_misc line:43 {error,100}
2018-10-31 16:35:06.106 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:36:56.077 [info] <0.605.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 16:36:56.078 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                         {function_clause,
                          [{lib_role,is_online,
                            [[{ets_name_role_id,"test",10000}]],
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/role/lib_role.erl"},
                             {line,42}]},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,50}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,38}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,28}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]},
                           {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 16:40:16.454 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:40:22.908 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:40:35.494 [info] <0.605.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 16:40:35.498 [error] <0.605.0> module:net_misc line:43 {'EXIT',
                         {undef,
                          [{lib_data,dirty_read,[10000],[]},
                           {net_login,check_login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,72}]},
                           {net_login,login,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_login.erl"},
                             {line,57}]},
                           {net_misc,msg_handle,1,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/net_misc.erl"},
                             {line,38}]},
                           {websocket_handler,websocket_handle,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cellphone/src/net/websocket_handler.erl"},
                             {line,28}]},
                           {cowboy_websocket,handler_call,6,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_websocket.erl"},
                             {line,466}]},
                           {cowboy_http,loop,2,
                            [{file,
                              "/data/cellphone/_build/default/lib/cowboy/src/cowboy_http.erl"},
                             {line,218}]},
                           {proc_lib,init_p_do_apply,3,
                            [{file,"proc_lib.erl"},{line,249}]}]}}
2018-10-31 16:41:22.909 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 16:43:03.854 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 16:43:06.469 [info] <0.605.0> module:websocket_handler line:21 init
2018-10-31 16:43:20.873 [info] <0.605.0> module:websocket_handler line:27 receive proto {login_tos,"test","123"}
2018-10-31 16:43:20.876 [info] <0.587.0> module:role_server line:52 start role RoleId {tab_role,10000,"test","123"}
2018-10-31 16:44:06.470 [info] <0.605.0> module:websocket_handler line:57  check ping
2018-10-31 17:10:23.354 [warning] <0.589.0> Setting Ranch options together with socket options is deprecated. Please use the new map syntax that allows specifying socket options separately from other options.
2018-10-31 17:10:48.801 [info] <0.605.0> module:websocket_handler line:26 receive proto {login_tos,"test","123"}
2018-10-31 17:10:48.804 [info] <0.587.0> module:role_server line:54 start role RoleId {tab_role,10000,"test","123"}
2018-10-31 17:11:27.382 [info] <0.605.0> module:websocket_handler line:56  check ping
